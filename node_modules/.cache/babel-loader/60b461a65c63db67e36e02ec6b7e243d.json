{"ast":null,"code":"function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar CookieBar = /*#__PURE__*/function () {\n  function CookieBar() {\n    _classCallCheck(this, CookieBar);\n\n    this.cookiesBar = document.getElementById('cookies-bar');\n  }\n\n  _createClass(CookieBar, [{\n    key: \"init\",\n    value: function init() {\n      if (this.cookiesAllowed()) {\n        this.appendGACode();\n      }\n\n      this.addButtonBehaviors();\n    }\n  }, {\n    key: \"cookiesAllowed\",\n    value: function cookiesAllowed() {\n      return Cookies.get('allow_cookies') === 'yes';\n    }\n  }, {\n    key: \"addButtonBehaviors\",\n    value: function addButtonBehaviors() {\n      var _this = this;\n\n      if (!this.cookiesBar) {\n        return;\n      }\n\n      this.cookiesBar.querySelector('.accept').addEventListener('click', function () {\n        return _this.allowCookies(true);\n      });\n      this.cookiesBar.querySelector('.reject').addEventListener('click', function () {\n        return _this.allowCookies(false);\n      });\n    }\n  }, {\n    key: \"appendGACode\",\n    value: function appendGACode() {\n      var ga = \"(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\" + \"(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\" + \"m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\" + \"})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\" + \"ga('create', 'UA-XXXXX-Y', 'auto');\" + \"ga('send', 'pageview');\";\n      document.getElementsByTagName('head')[0].append('<script>' + ga + '</script>');\n    }\n  }, {\n    key: \"allowCookies\",\n    value: function allowCookies(allow) {\n      if (allow) {\n        Cookies.set('allow_cookies', 'yes', {\n          expires: 365\n        });\n        this.appendGACode();\n      } else {\n        Cookies.set('allow_cookies', 'no', {\n          expires: 365\n        });\n      }\n\n      this.cookiesBar.classList.add('hidden');\n    }\n  }]);\n\n  return CookieBar;\n}();\n\nwindow.onload = function () {\n  var cookieBar = new CookieBar();\n  cookieBar.init();\n};","map":{"version":3,"names":["CookieBar","cookiesBar","document","getElementById","cookiesAllowed","appendGACode","addButtonBehaviors","Cookies","get","querySelector","addEventListener","allowCookies","ga","getElementsByTagName","append","allow","set","expires","classList","add","window","onload","cookieBar","init"],"sources":["/Users/adnanbiber/Documents/mita/mita/app/javascript/custom/main.js"],"sourcesContent":["class CookieBar {\n  constructor() {\n    this.cookiesBar = document.getElementById('cookies-bar');\n  }\n\n  init() {\n    if (this.cookiesAllowed()) {\n      this.appendGACode();\n    }\n\n    this.addButtonBehaviors();\n  }\n\n  cookiesAllowed() {\n    return Cookies.get('allow_cookies') === 'yes';\n  }\n\n  addButtonBehaviors() {\n    if (!this.cookiesBar) {\n      return;\n    }\n\n    this.cookiesBar.querySelector('.accept').addEventListener('click', () => this.allowCookies(true));\n\n    this.cookiesBar.querySelector('.reject').addEventListener('click', () => this.allowCookies(false));\n  }\n\n  appendGACode() {\n    const ga = \"(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\" +\n      \"(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\" +\n      \"m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\" +\n      \"})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\" +\n      \"ga('create', 'UA-XXXXX-Y', 'auto');\" + \"ga('send', 'pageview');\";\n\n    document.getElementsByTagName('head')[0].append('<script>' + ga + '</script>');\n  }\n\n  allowCookies(allow) {\n    if (allow) {\n      Cookies.set('allow_cookies', 'yes', {\n        expires: 365\n      });\n\n      this.appendGACode();\n    } else {\n      Cookies.set('allow_cookies', 'no', {\n        expires: 365\n      });\n    }\n\n    this.cookiesBar.classList.add('hidden');\n  }\n}\n\nwindow.onload = function() {\n  const cookieBar = new CookieBar();\n\n  cookieBar.init();\n}\n"],"mappings":";;;;;;IAAMA,S;EACJ,qBAAc;IAAA;;IACZ,KAAKC,UAAL,GAAkBC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAlB;EACD;;;;WAED,gBAAO;MACL,IAAI,KAAKC,cAAL,EAAJ,EAA2B;QACzB,KAAKC,YAAL;MACD;;MAED,KAAKC,kBAAL;IACD;;;WAED,0BAAiB;MACf,OAAOC,OAAO,CAACC,GAAR,CAAY,eAAZ,MAAiC,KAAxC;IACD;;;WAED,8BAAqB;MAAA;;MACnB,IAAI,CAAC,KAAKP,UAAV,EAAsB;QACpB;MACD;;MAED,KAAKA,UAAL,CAAgBQ,aAAhB,CAA8B,SAA9B,EAAyCC,gBAAzC,CAA0D,OAA1D,EAAmE;QAAA,OAAM,KAAI,CAACC,YAAL,CAAkB,IAAlB,CAAN;MAAA,CAAnE;MAEA,KAAKV,UAAL,CAAgBQ,aAAhB,CAA8B,SAA9B,EAAyCC,gBAAzC,CAA0D,OAA1D,EAAmE;QAAA,OAAM,KAAI,CAACC,YAAL,CAAkB,KAAlB,CAAN;MAAA,CAAnE;IACD;;;WAED,wBAAe;MACb,IAAMC,EAAE,GAAG,iFACT,gFADS,GAET,iFAFS,GAGT,8EAHS,GAIT,qCAJS,GAI+B,yBAJ1C;MAMAV,QAAQ,CAACW,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,MAAzC,CAAgD,aAAaF,EAAb,GAAkB,WAAlE;IACD;;;WAED,sBAAaG,KAAb,EAAoB;MAClB,IAAIA,KAAJ,EAAW;QACTR,OAAO,CAACS,GAAR,CAAY,eAAZ,EAA6B,KAA7B,EAAoC;UAClCC,OAAO,EAAE;QADyB,CAApC;QAIA,KAAKZ,YAAL;MACD,CAND,MAMO;QACLE,OAAO,CAACS,GAAR,CAAY,eAAZ,EAA6B,IAA7B,EAAmC;UACjCC,OAAO,EAAE;QADwB,CAAnC;MAGD;;MAED,KAAKhB,UAAL,CAAgBiB,SAAhB,CAA0BC,GAA1B,CAA8B,QAA9B;IACD;;;;;;AAGHC,MAAM,CAACC,MAAP,GAAgB,YAAW;EACzB,IAAMC,SAAS,GAAG,IAAItB,SAAJ,EAAlB;EAEAsB,SAAS,CAACC,IAAV;AACD,CAJD"},"metadata":{},"sourceType":"module"}